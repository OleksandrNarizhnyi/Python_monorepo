Причина инцидента:

При попытке зайти на сайт MediaWiki возникла проблема. Выводилась ошибка "$wgServer must be set in LocalSettings.php"
Это указывало на проблему с конфигурацией сервера. Основной причиной инцидента было некорректная конфигурация в файле
LocalSettings.php, а также отсутствие свободного пространства на диске.

Предпринятые шаги для восстановления сервиса и устранения проблемы и полученные результаты:

1. При попытке зайти на сайт MediaWiki выводилось сообщение об ошибке, которое связано с конфигурацией сайта.
Было принято решение подключиться к серверу для дальнейшего анализа. Первая попытка была не удачной. Так как у публичного
ключа было не достаточно прав для входа на сервер.
С помощью команды "chmod 600 /home/igor/ich/ich.pem" были изменены права доступа публичного ключа.
Повторная попытка подключения к серверу была успешной.
2. Далее было принято решение проверить состояния службы Apache HTTP Server с помощью команды "sudo service httpd status"
3. При поиске и анализе файла LocalSettings.php было обнаружено отсутствие свободного пространства на диске.
Для поиска файла использовали команду "sudo find / -type f -name "LocalSettings.php"", это показало наличие двух
версий LocalSettings.php, одна в директории /var/www/html/mediawiki и другая в домашней директории.
Для анализа файла была попытка открыть его в редакторе, что не получилось.
Далее была выполнена команда "df -h", с помощью которой было обнаружено отсутствие свободного пространства на основном
разделе сервера.
4. Далее был произведен поиск больших файлов с помощью команды "sudo find / -type f -size +1G". Это позволило обнаружить файл
/var/log/httpd/access_log и с помощью команды "sudo du -h /var/log/httpd/access_log" установить его размер, который
составлял 7G.
5. Далее было принято решение очистить файл с помощью команды "sudo truncate -s 0 /var/log/httpd/access_log",
что позволило освободить пространство и посмотреть содержимое файла LocalSettings.php(с помощью команды cat).
6. Так же было установлено, что файл LocalSettings.php в директории /var/www/html/mediawiki пуст,
а в домашней директории содержал конфигурации. Пустой файл в /var/www/html/mediawiki был заменен файлом с конфигурациями с
помощью команды "cp".
7.Так же в файле конфигурации LocalSettings.php обнаружено некорректное значение переменной $wgServer.
В файле конфигурации LocalSettings.php были внесены изменения(с помощью редактора vim), а именно "$wgServer = "https://3.79.39.74";".
Далее был выполнен перезапуск сервера для применения изменений.
8. Так же было принято решение о написании скрипта log_backup.sh для архивирования и очистки логов. Этот скрипт архивирует логи,
очищает их и удаляет архивы старше трех дней.
9. При добавлении задачи (команда "crontab -e log_backup.sh") для ежедневного выполнения скрипта log_backup.sh в crontab
была обнаружена задача, которая выполняет архивацию логов каждую минуту, что приводило к быстрому наполнению архивов
и как следствие к быстрому заполнению дискового пространства. Было принято решение закомментировать эту задачу
для предотвращения повторных проблем.
10. Как результат была восстановлена работа сайта MediaWiki, сервер был перезапущен, был написан и поставлен на
ежедневное выполнение скрипт log_backup.sh для архивирования и очистки логов.

Рекомендаций и предложений по улучшению процессов:

1. Для предотвращения подобных ситуаций нужно настроить систему мониторинга дискового пространства, желательно с оповещениями
о его заполнении.
2. Периодическая проверка задач в crontab, для обнаружения задач которые могут привести к перегрузке системы.